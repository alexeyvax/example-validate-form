!function(){"use strict";function t(){var t=document.querySelector("form");if(t){var e=t.querySelectorAll("ul>li>input");n(t,e)}}function n(t,n){t.addEventListener("submit",function(t){return e(n,t)})}function e(t,n){n.preventDefault();var e={};Array.prototype.forEach.call(t,function(t){var n=t.name,r=t.value;e[n]=r});var r={name:["isNonEmpty"],age:["isNumber","isNonEmpty"],username:["isNonEmpty","isAlphaNum"],email:["isNonEmpty","isEmailCorrect"]},i={isNonEmpty:{validate:function(t){return""!==t},instructions:"это поле не может быть пустым."},isNumber:{validate:function(t){return!isNaN(t)},instructions:"значением может быть только число­, например 1, 3.14 или 2010"},isAlphaNum:{validate:function(t){return!/[^a-zA-Z0-9а-яА-Я]/i.test(t)},instructions:"значение может содержать только буквы и цифры, специальные символы недопустимы"},isEmailCorrect:{validate:function(t){return/^([a-z0-9_-]+\.)*[a-z0-9_-]+@[a-z0-9_-]+(\.[a-z0-9_-]+)*\.[a-z]{2,6}$/.test(t)},instructions:"введите корректный email"}};new o(e,r,i)}var r=(function(){function t(t){this.value=t}function n(n){function e(t,n){return new Promise(function(e,i){var u={key:t,arg:n,resolve:e,reject:i,next:null};a?a=a.next=u:(o=a=u,r(t,n))})}function r(e,o){try{var a=n[e](o),u=a.value;u instanceof t?Promise.resolve(u.value).then(function(t){r("next",t)},function(t){r("throw",t)}):i(a.done?"return":"normal",a.value)}catch(t){i("throw",t)}}function i(t,n){switch(t){case"return":o.resolve({value:n,done:!0});break;case"throw":o.reject(n);break;default:o.resolve({value:n,done:!1})}o=o.next,o?r(o.key,o.arg):a=null}var o,a;this._invoke=e,"function"!=typeof n.return&&(this.return=void 0)}return"function"==typeof Symbol&&Symbol.asyncIterator&&(n.prototype[Symbol.asyncIterator]=function(){return this}),n.prototype.next=function(t){return this._invoke("next",t)},n.prototype.throw=function(t){return this._invoke("throw",t)},n.prototype.return=function(t){return this._invoke("return",t)},{wrap:function(t){return function(){return new n(t.apply(this,arguments))}},await:function(n){return new t(n)}}}(),function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}),i=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),o=function(){function t(n,e,i){r(this,t),this.data=n,this.messages=Object.create(null),this.config=e,this.types=i,this.validate(n)}return i(t,[{key:"validate",value:function(t){for(var n in t)if(t.hasOwnProperty(n)){var e=this.config[n];if("undefined"!=typeof e)for(var r=0;r<e.length;r++){var i=this.types[e[r]];if(!i)throw new Error("Данная команда "+e[r]+" некорректна");var o=i.validate(t[n]);if(!o){var a="Недопустимое значение в поле * "+n+" *, "+i.instructions;this.messages[n]=a}}}return this.hasErrors()}},{key:"hasErrors",value:function(){if(!(Object.keys(this.messages).length>0))return console.log("Данные валидны");for(var t in this.messages)console.log(this.messages[t])}}]),t}();t()}();
//# sourceMappingURL=index.min.js.map
